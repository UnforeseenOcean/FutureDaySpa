<html>
<head>
<title>Future Day Spa</title>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<style>
</style>
</head>
<body>
<style>
body {
  background-color: black;
}
rect {
  rx: 3;
  ry: 3;
  opacity: .37;
}

.chart text {
  fill: white;
  font: 10px sans-serif;
  text-anchor: middle;
}
</style>
<svg class="chart"></svg>
<script>
var colors = ['#AE8CB8', '#A9CBE1', '#E399BA', '#B1BBC7'];
var colorWidth = 4;

function randomArray(min, max, n) {
  var x = new Array(n);
  for(var i = 0; i < n; i++) {
    x[i] = _.random(min, max);
  }
  return x;
}
var barCount = 32;
var data = randomArray(5, 25, barCount);

var width = 960,
    height = 200;

var y = d3.scale.linear()
    .range([height, 0])
    .domain([0, d3.max(data, function(d) { return d; })]);

var chart = d3.select(".chart")
    .attr("width", width)
    .attr("height", height);

var barWidth = width / data.length;

var bar = chart.selectAll("g")
    .data(data)
  .enter().append("g")
    .attr("transform", function(d, i) { return "translate(" + i * barWidth + ",0)"; });

bar.append("rect")
    .attr("y", function(d) { return y(d); })
    .attr("height", function(d) { return height - y(d); })
    .attr("width", barWidth - 1)
    .attr('fill', function(d, i) {
      var a = (i / colorWidth) % colors.length;
      var b = (a + 1) % colors.length;
      var c = a % 1;
      a = Math.floor(a);
      b = Math.floor(b);
      return d3.interpolateRgb(colors[a], colors[b])(c);
      // return colors[a];
    });

// bar.append("text")
//     .attr("x", barWidth / 2)
//     .attr("y", function(d) { return y(d) + 3; })
//     .attr("dy", ".75em")
//     .text(function(d) { return '.'; });

function type(d) {
  d.value = +d.value; // coerce to number
  return d;
}

</script>

<script>
// var colors = ['#AE8CB8', '#A9CBE1', '#E399BA', '#B1BBC7'];
// var colorWidth = 4;

// //Width and height
// var barWidth = 20;
// var barPadding = 1;
// var chartWidth = barWidth * barCount;
// var chartHeight = 140;

// var y = d3.scale.linear()
//   .range([chartHeight, 0]);

// //Create SVG element
// var svg = d3.select('#chart')
//       .attr('width', chartWidth)
//       .attr('height', chartHeight);

// var bar = svg.selectAll('g')
//     .data(dataset)
//   .enter()
//     .append('rect')
//     .attr("transform", function(d, i) { return "translate(" + i * barWidth + ",0)"; });

// bar.append('rect')
//   .attr("y", function(d) { return y(d.value); })
//   .attr("height", function(d) { return height - y(d.value); })
//   .attr("width", barWidth - 1)
//   .attr('fill', function(d, i) {
//     var a = (i / colorWidth) % colors.length;
//     var b = (a + 1) % colors.length;
//     var c = a % 1;
//     a = Math.floor(a);
//     b = Math.floor(b);
//     return d3.interpolateRgb(colors[a], colors[b])(c);
//     // return colors[a];
//   });

// $(document).mousedown(function (event) {
//   dataset.pop();
//   svg.selectAll('rect')
//     .data(dataset);
// })

// svg.selectAll("text")
//    .data(dataset)
//    .enter()
//    .append("text")
//    .text(function(d) {
//       return d;
//    })
//    .attr("text-anchor", "middle")
//    .attr("x", function(d, i) {
//       return i * (w / dataset.length) + (w / dataset.length - barPadding) / 2;
//    })
//    .attr("y", function(d) {
//       return h - (d * 4) + 14;
//    })
//    .attr("font-family", "sans-serif")
//    .attr("font-size", "11px")
//    .attr("fill", "white");


</script>
</body>
</html>
